Ilkay Guendogan scored twice and Kevin de Bruyne netted a superb free kick in a magnificent display from the home side that ended Barcelona's 100% record and made handsome amends for City's 4-0 drubbing at the Nou Camp two weeks ago.The victory looked unlikely when Lionel Messi followed up his hat-trick in that game with a dazzling opener on the counter-attack in the 21st minute and Barca were in control before Guendogan cashed in on a Sergi Roberto mistake.In a game peppered with fine attacking and dubious defending, City then ran Barca ragged as the exceptional De Bruyne netted in the 51st minute before helping set up Guendogan's second after 74.Arsenal and Paris Saint-Germain both clinched qualification from the knockout stage of Group A.Arsenal came from two goals down to win 3-2 away to Ludogorets in Bulgaria to go through along with PSG, who were 2-1 winners over Basel in Switzerland.